; CHECK WHETHER THE GIVEN NUMBER IS A PRIME NUMBER OR NOT

DATA SEGMENT
    MSG1 DB 10,13,"GIVEN NO. IS A PRIME NUMBER $"
    MSG2 DB 10,13,"GIVEN NO. IS NOT A PRIME NUMBER $"
    KEY DB 07H    
DATA ENDS

CODE SEGMENT
ASSUME CS:CODE,DS:DATA
START:
        MOV AX,DATA
        MOV DS,AX
        
        MOV AL,KEY      ;GIVEN. NUMBER TO CHECK
        MOV BL,02H      ;INIT. CONDIT FOR DIVISION AT L1
        MOV DX,0000H
        MOV AH,00H      ;AVOIDS DIV OVERFLOW
        
    L1: DIV BL
        CMP AH,00H       ;COMPARING REMAINDER TO 00H
        JNE NEXT
        INC BH
        
  NEXT: CMP BH,02H
        JE NPR           ;GIVEN NO. IS NOT A PRIME ONE
        INC BL
        MOV AX,0000H
        MOV DX,0000H     ;AVOIDS DIV OVERFLOW
        MOV AL,KEY
        CMP BL,KEY
        JNE L1
        
        ;GIVEN NUMBER IS A PRIME ONE
        LEA DX,MSG1
        MOV AH,09H
        INT 21H
        JMP EXIT   ;END THE PROGRAM
        
        ;GIVEN NUMBER IS NOT A PRIME ONE
   NPR: LEA DX,MSG2
        MOV AH,09H
        INT 21H
        
  EXIT: MOV AH,4CH ;DOS (21H) FUNCTION NUMBER
        INT 21H    ;TERMINATES THE PROGRAM WITH RETURN CODE
    
CODE ENDS   
END START